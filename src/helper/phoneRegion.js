/**
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 *  Base Script    : Bang Dika Ardnt
 *  Recode By      : Bang Wilykun
 *  WhatsApp       : 6289688206739
 *  Telegram       : @Wilykun1994
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 *  Script ini GRATIS, tidak untuk diperjualbelikan!
 *  Jika ketahuan menjual script ini = NO UPDATE / NO FIX
 *  Hargai kerja keras developer, gunakan dengan bijak!
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 */

'use strict';

const countryPhoneCodes = {
    '1': { country: 'Amerika Serikat/Kanada', flag: 'üá∫üá∏', code: '+1' },
    '7': { country: 'Rusia', flag: 'üá∑üá∫', code: '+7' },
    '20': { country: 'Mesir', flag: 'üá™üá¨', code: '+20' },
    '27': { country: 'Afrika Selatan', flag: 'üáøüá¶', code: '+27' },
    '30': { country: 'Yunani', flag: 'üá¨üá∑', code: '+30' },
    '31': { country: 'Belanda', flag: 'üá≥üá±', code: '+31' },
    '32': { country: 'Belgia', flag: 'üáßüá™', code: '+32' },
    '33': { country: 'Perancis', flag: 'üá´üá∑', code: '+33' },
    '34': { country: 'Spanyol', flag: 'üá™üá∏', code: '+34' },
    '36': { country: 'Hungaria', flag: 'üá≠üá∫', code: '+36' },
    '39': { country: 'Italia', flag: 'üáÆüáπ', code: '+39' },
    '40': { country: 'Rumania', flag: 'üá∑üá¥', code: '+40' },
    '41': { country: 'Swiss', flag: 'üá®üá≠', code: '+41' },
    '43': { country: 'Austria', flag: 'üá¶üáπ', code: '+43' },
    '44': { country: 'Inggris', flag: 'üá¨üáß', code: '+44' },
    '45': { country: 'Denmark', flag: 'üá©üá∞', code: '+45' },
    '46': { country: 'Swedia', flag: 'üá∏üá™', code: '+46' },
    '47': { country: 'Norwegia', flag: 'üá≥üá¥', code: '+47' },
    '48': { country: 'Polandia', flag: 'üáµüá±', code: '+48' },
    '49': { country: 'Jerman', flag: 'üá©üá™', code: '+49' },
    '51': { country: 'Peru', flag: 'üáµüá™', code: '+51' },
    '52': { country: 'Meksiko', flag: 'üá≤üáΩ', code: '+52' },
    '53': { country: 'Kuba', flag: 'üá®üá∫', code: '+53' },
    '54': { country: 'Argentina', flag: 'üá¶üá∑', code: '+54' },
    '55': { country: 'Brasil', flag: 'üáßüá∑', code: '+55' },
    '56': { country: 'Chili', flag: 'üá®üá±', code: '+56' },
    '57': { country: 'Kolombia', flag: 'üá®üá¥', code: '+57' },
    '58': { country: 'Venezuela', flag: 'üáªüá™', code: '+58' },
    '60': { country: 'Malaysia', flag: 'üá≤üáæ', code: '+60' },
    '61': { country: 'Australia', flag: 'üá¶üá∫', code: '+61' },
    '62': { country: 'Indonesia', flag: 'üáÆüá©', code: '+62' },
    '63': { country: 'Filipina', flag: 'üáµüá≠', code: '+63' },
    '64': { country: 'Selandia Baru', flag: 'üá≥üáø', code: '+64' },
    '65': { country: 'Singapura', flag: 'üá∏üá¨', code: '+65' },
    '66': { country: 'Thailand', flag: 'üáπüá≠', code: '+66' },
    '81': { country: 'Jepang', flag: 'üáØüáµ', code: '+81' },
    '82': { country: 'Korea Selatan', flag: 'üá∞üá∑', code: '+82' },
    '84': { country: 'Vietnam', flag: 'üáªüá≥', code: '+84' },
    '86': { country: 'Tiongkok', flag: 'üá®üá≥', code: '+86' },
    '90': { country: 'Turki', flag: 'üáπüá∑', code: '+90' },
    '91': { country: 'India', flag: 'üáÆüá≥', code: '+91' },
    '92': { country: 'Pakistan', flag: 'üáµüá∞', code: '+92' },
    '93': { country: 'Afghanistan', flag: 'üá¶üá´', code: '+93' },
    '94': { country: 'Sri Lanka', flag: 'üá±üá∞', code: '+94' },
    '95': { country: 'Myanmar', flag: 'üá≤üá≤', code: '+95' },
    '98': { country: 'Iran', flag: 'üáÆüá∑', code: '+98' },
    '212': { country: 'Maroko', flag: 'üá≤üá¶', code: '+212' },
    '213': { country: 'Aljazair', flag: 'üá©üáø', code: '+213' },
    '216': { country: 'Tunisia', flag: 'üáπüá≥', code: '+216' },
    '218': { country: 'Libya', flag: 'üá±üáæ', code: '+218' },
    '220': { country: 'Gambia', flag: 'üá¨üá≤', code: '+220' },
    '221': { country: 'Senegal', flag: 'üá∏üá≥', code: '+221' },
    '222': { country: 'Mauritania', flag: 'üá≤üá∑', code: '+222' },
    '223': { country: 'Mali', flag: 'üá≤üá±', code: '+223' },
    '224': { country: 'Guinea', flag: 'üá¨üá≥', code: '+224' },
    '225': { country: 'Pantai Gading', flag: 'üá®üáÆ', code: '+225' },
    '226': { country: 'Burkina Faso', flag: 'üáßüá´', code: '+226' },
    '227': { country: 'Niger', flag: 'üá≥üá™', code: '+227' },
    '228': { country: 'Togo', flag: 'üáπüá¨', code: '+228' },
    '229': { country: 'Benin', flag: 'üáßüáØ', code: '+229' },
    '230': { country: 'Mauritius', flag: 'üá≤üá∫', code: '+230' },
    '231': { country: 'Liberia', flag: 'üá±üá∑', code: '+231' },
    '232': { country: 'Sierra Leone', flag: 'üá∏üá±', code: '+232' },
    '233': { country: 'Ghana', flag: 'üá¨üá≠', code: '+233' },
    '234': { country: 'Nigeria', flag: 'üá≥üá¨', code: '+234' },
    '235': { country: 'Chad', flag: 'üáπüá©', code: '+235' },
    '236': { country: 'Afrika Tengah', flag: 'üá®üá´', code: '+236' },
    '237': { country: 'Kamerun', flag: 'üá®üá≤', code: '+237' },
    '238': { country: 'Tanjung Verde', flag: 'üá®üáª', code: '+238' },
    '239': { country: 'Sao Tome', flag: 'üá∏üáπ', code: '+239' },
    '240': { country: 'Guinea Khatulistiwa', flag: 'üá¨üá∂', code: '+240' },
    '241': { country: 'Gabon', flag: 'üá¨üá¶', code: '+241' },
    '242': { country: 'Kongo', flag: 'üá®üá¨', code: '+242' },
    '243': { country: 'Kongo (DRC)', flag: 'üá®üá©', code: '+243' },
    '244': { country: 'Angola', flag: 'üá¶üá¥', code: '+244' },
    '245': { country: 'Guinea-Bissau', flag: 'üá¨üáº', code: '+245' },
    '246': { country: 'Diego Garcia', flag: 'üáÆüá¥', code: '+246' },
    '247': { country: 'Ascension', flag: 'üá¶üá®', code: '+247' },
    '248': { country: 'Seychelles', flag: 'üá∏üá®', code: '+248' },
    '249': { country: 'Sudan', flag: 'üá∏üá©', code: '+249' },
    '250': { country: 'Rwanda', flag: 'üá∑üáº', code: '+250' },
    '251': { country: 'Ethiopia', flag: 'üá™üáπ', code: '+251' },
    '252': { country: 'Somalia', flag: 'üá∏üá¥', code: '+252' },
    '253': { country: 'Djibouti', flag: 'üá©üáØ', code: '+253' },
    '254': { country: 'Kenya', flag: 'üá∞üá™', code: '+254' },
    '255': { country: 'Tanzania', flag: 'üáπüáø', code: '+255' },
    '256': { country: 'Uganda', flag: 'üá∫üá¨', code: '+256' },
    '257': { country: 'Burundi', flag: 'üáßüáÆ', code: '+257' },
    '258': { country: 'Mozambik', flag: 'üá≤üáø', code: '+258' },
    '260': { country: 'Zambia', flag: 'üáøüá≤', code: '+260' },
    '261': { country: 'Madagaskar', flag: 'üá≤üá¨', code: '+261' },
    '262': { country: 'Reunion', flag: 'üá∑üá™', code: '+262' },
    '263': { country: 'Zimbabwe', flag: 'üáøüáº', code: '+263' },
    '264': { country: 'Namibia', flag: 'üá≥üá¶', code: '+264' },
    '265': { country: 'Malawi', flag: 'üá≤üáº', code: '+265' },
    '266': { country: 'Lesotho', flag: 'üá±üá∏', code: '+266' },
    '267': { country: 'Botswana', flag: 'üáßüáº', code: '+267' },
    '268': { country: 'Eswatini', flag: 'üá∏üáø', code: '+268' },
    '269': { country: 'Komoro', flag: 'üá∞üá≤', code: '+269' },
    '290': { country: 'Saint Helena', flag: 'üá∏üá≠', code: '+290' },
    '291': { country: 'Eritrea', flag: 'üá™üá∑', code: '+291' },
    '297': { country: 'Aruba', flag: 'üá¶üáº', code: '+297' },
    '298': { country: 'Kepulauan Faroe', flag: 'üá´üá¥', code: '+298' },
    '299': { country: 'Greenland', flag: 'üá¨üá±', code: '+299' },
    '350': { country: 'Gibraltar', flag: 'üá¨üáÆ', code: '+350' },
    '351': { country: 'Portugal', flag: 'üáµüáπ', code: '+351' },
    '352': { country: 'Luksemburg', flag: 'üá±üá∫', code: '+352' },
    '353': { country: 'Irlandia', flag: 'üáÆüá™', code: '+353' },
    '354': { country: 'Islandia', flag: 'üáÆüá∏', code: '+354' },
    '355': { country: 'Albania', flag: 'üá¶üá±', code: '+355' },
    '356': { country: 'Malta', flag: 'üá≤üáπ', code: '+356' },
    '357': { country: 'Siprus', flag: 'üá®üáæ', code: '+357' },
    '358': { country: 'Finlandia', flag: 'üá´üáÆ', code: '+358' },
    '359': { country: 'Bulgaria', flag: 'üáßüá¨', code: '+359' },
    '370': { country: 'Lithuania', flag: 'üá±üáπ', code: '+370' },
    '371': { country: 'Latvia', flag: 'üá±üáª', code: '+371' },
    '372': { country: 'Estonia', flag: 'üá™üá™', code: '+372' },
    '373': { country: 'Moldova', flag: 'üá≤üá©', code: '+373' },
    '374': { country: 'Armenia', flag: 'üá¶üá≤', code: '+374' },
    '375': { country: 'Belarus', flag: 'üáßüáæ', code: '+375' },
    '376': { country: 'Andorra', flag: 'üá¶üá©', code: '+376' },
    '377': { country: 'Monako', flag: 'üá≤üá®', code: '+377' },
    '378': { country: 'San Marino', flag: 'üá∏üá≤', code: '+378' },
    '380': { country: 'Ukraina', flag: 'üá∫üá¶', code: '+380' },
    '381': { country: 'Serbia', flag: 'üá∑üá∏', code: '+381' },
    '382': { country: 'Montenegro', flag: 'üá≤üá™', code: '+382' },
    '383': { country: 'Kosovo', flag: 'üáΩüá∞', code: '+383' },
    '385': { country: 'Kroasia', flag: 'üá≠üá∑', code: '+385' },
    '386': { country: 'Slovenia', flag: 'üá∏üáÆ', code: '+386' },
    '387': { country: 'Bosnia Herzegovina', flag: 'üáßüá¶', code: '+387' },
    '389': { country: 'Makedonia Utara', flag: 'üá≤üá∞', code: '+389' },
    '420': { country: 'Ceko', flag: 'üá®üáø', code: '+420' },
    '421': { country: 'Slovakia', flag: 'üá∏üá∞', code: '+421' },
    '423': { country: 'Liechtenstein', flag: 'üá±üáÆ', code: '+423' },
    '500': { country: 'Kepulauan Falkland', flag: 'üá´üá∞', code: '+500' },
    '501': { country: 'Belize', flag: 'üáßüáø', code: '+501' },
    '502': { country: 'Guatemala', flag: 'üá¨üáπ', code: '+502' },
    '503': { country: 'El Salvador', flag: 'üá∏üáª', code: '+503' },
    '504': { country: 'Honduras', flag: 'üá≠üá≥', code: '+504' },
    '505': { country: 'Nikaragua', flag: 'üá≥üáÆ', code: '+505' },
    '506': { country: 'Kosta Rika', flag: 'üá®üá∑', code: '+506' },
    '507': { country: 'Panama', flag: 'üáµüá¶', code: '+507' },
    '508': { country: 'Saint Pierre', flag: 'üáµüá≤', code: '+508' },
    '509': { country: 'Haiti', flag: 'üá≠üáπ', code: '+509' },
    '590': { country: 'Guadeloupe', flag: 'üá¨üáµ', code: '+590' },
    '591': { country: 'Bolivia', flag: 'üáßüá¥', code: '+591' },
    '592': { country: 'Guyana', flag: 'üá¨üáæ', code: '+592' },
    '593': { country: 'Ekuador', flag: 'üá™üá®', code: '+593' },
    '594': { country: 'Guyana Perancis', flag: 'üá¨üá´', code: '+594' },
    '595': { country: 'Paraguay', flag: 'üáµüáæ', code: '+595' },
    '596': { country: 'Martinique', flag: 'üá≤üá∂', code: '+596' },
    '597': { country: 'Suriname', flag: 'üá∏üá∑', code: '+597' },
    '598': { country: 'Uruguay', flag: 'üá∫üáæ', code: '+598' },
    '599': { country: 'Curacao', flag: 'üá®üáº', code: '+599' },
    '670': { country: 'Timor Leste', flag: 'üáπüá±', code: '+670' },
    '672': { country: 'Pulau Norfolk', flag: 'üá≥üá´', code: '+672' },
    '673': { country: 'Brunei', flag: 'üáßüá≥', code: '+673' },
    '674': { country: 'Nauru', flag: 'üá≥üá∑', code: '+674' },
    '675': { country: 'Papua Nugini', flag: 'üáµüá¨', code: '+675' },
    '676': { country: 'Tonga', flag: 'üáπüá¥', code: '+676' },
    '677': { country: 'Kepulauan Solomon', flag: 'üá∏üáß', code: '+677' },
    '678': { country: 'Vanuatu', flag: 'üáªüá∫', code: '+678' },
    '679': { country: 'Fiji', flag: 'üá´üáØ', code: '+679' },
    '680': { country: 'Palau', flag: 'üáµüáº', code: '+680' },
    '681': { country: 'Wallis Futuna', flag: 'üáºüá´', code: '+681' },
    '682': { country: 'Kepulauan Cook', flag: 'üá®üá∞', code: '+682' },
    '683': { country: 'Niue', flag: 'üá≥üá∫', code: '+683' },
    '685': { country: 'Samoa', flag: 'üáºüá∏', code: '+685' },
    '686': { country: 'Kiribati', flag: 'üá∞üáÆ', code: '+686' },
    '687': { country: 'Kaledonia Baru', flag: 'üá≥üá®', code: '+687' },
    '688': { country: 'Tuvalu', flag: 'üáπüáª', code: '+688' },
    '689': { country: 'Polinesia Perancis', flag: 'üáµüá´', code: '+689' },
    '690': { country: 'Tokelau', flag: 'üáπüá∞', code: '+690' },
    '691': { country: 'Mikronesia', flag: 'üá´üá≤', code: '+691' },
    '692': { country: 'Kepulauan Marshall', flag: 'üá≤üá≠', code: '+692' },
    '850': { country: 'Korea Utara', flag: 'üá∞üáµ', code: '+850' },
    '852': { country: 'Hong Kong', flag: 'üá≠üá∞', code: '+852' },
    '853': { country: 'Makau', flag: 'üá≤üá¥', code: '+853' },
    '855': { country: 'Kamboja', flag: 'üá∞üá≠', code: '+855' },
    '856': { country: 'Laos', flag: 'üá±üá¶', code: '+856' },
    '880': { country: 'Bangladesh', flag: 'üáßüá©', code: '+880' },
    '886': { country: 'Taiwan', flag: 'üáπüáº', code: '+886' },
    '960': { country: 'Maladewa', flag: 'üá≤üáª', code: '+960' },
    '961': { country: 'Lebanon', flag: 'üá±üáß', code: '+961' },
    '962': { country: 'Yordania', flag: 'üáØüá¥', code: '+962' },
    '963': { country: 'Suriah', flag: 'üá∏üáæ', code: '+963' },
    '964': { country: 'Irak', flag: 'üáÆüá∂', code: '+964' },
    '965': { country: 'Kuwait', flag: 'üá∞üáº', code: '+965' },
    '966': { country: 'Arab Saudi', flag: 'üá∏üá¶', code: '+966' },
    '967': { country: 'Yaman', flag: 'üáæüá™', code: '+967' },
    '968': { country: 'Oman', flag: 'üá¥üá≤', code: '+968' },
    '970': { country: 'Palestina', flag: 'üáµüá∏', code: '+970' },
    '971': { country: 'Uni Emirat Arab', flag: 'üá¶üá™', code: '+971' },
    '972': { country: 'Israel', flag: 'üáÆüá±', code: '+972' },
    '973': { country: 'Bahrain', flag: 'üáßüá≠', code: '+973' },
    '974': { country: 'Qatar', flag: 'üá∂üá¶', code: '+974' },
    '975': { country: 'Bhutan', flag: 'üáßüáπ', code: '+975' },
    '976': { country: 'Mongolia', flag: 'üá≤üá≥', code: '+976' },
    '977': { country: 'Nepal', flag: 'üá≥üáµ', code: '+977' },
    '992': { country: 'Tajikistan', flag: 'üáπüáØ', code: '+992' },
    '993': { country: 'Turkmenistan', flag: 'üáπüá≤', code: '+993' },
    '994': { country: 'Azerbaijan', flag: 'üá¶üáø', code: '+994' },
    '995': { country: 'Georgia', flag: 'üá¨üá™', code: '+995' },
    '996': { country: 'Kyrgyzstan', flag: 'üá∞üá¨', code: '+996' },
    '998': { country: 'Uzbekistan', flag: 'üá∫üáø', code: '+998' },
};

export function getPhoneRegion(phoneNumber) {
    if (!phoneNumber) {
        return { country: 'Tidak Diketahui', flag: 'üåç', code: '?' };
    }

    const cleanNumber = phoneNumber.replace(/[^0-9]/g, '');

    for (let len = 3; len >= 1; len--) {
        const prefix = cleanNumber.substring(0, len);
        if (countryPhoneCodes[prefix]) {
            return countryPhoneCodes[prefix];
        }
    }

    return { country: 'Tidak Diketahui', flag: 'üåç', code: '?' };
}

export function formatPhoneWithRegion(phoneNumber) {
    const region = getPhoneRegion(phoneNumber);
    const cleanNumber = phoneNumber.replace(/[^0-9]/g, '');
    
    return {
        number: cleanNumber,
        formatted: `+${cleanNumber}`,
        region: region.country,
        flag: region.flag,
        countryCode: region.code
    };
}

export default { getPhoneRegion, formatPhoneWithRegion, countryPhoneCodes };
